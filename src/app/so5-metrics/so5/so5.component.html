<mat-toolbar>SO5 Metrics Collection</mat-toolbar>

<div class="container">
  <app-platform [(visible)]="showDialog" [(platFormDetails)]="newPlatFormDetails"></app-platform>

  <app-so5-mapping [(visibleSo5Mapping)]="showDialogSo5Mapping" [(so5MappingDetails)]="newSo5MappingDetails">
  </app-so5-mapping>

  <form [formGroup]="storyLevelPlatformForm" *ngIf="showStoryLevel">
    <div class="form-group row">
      <label for="platformName" class="col-md-2 col-form-label">Platform Name :</label>
      <div class="col-md-10">
        <mat-form-field>
          <mat-label>Platform Name</mat-label>
          <mat-select formControlName="platformName" (click)="platformDropdownClick()">
            <mat-option *ngFor="let Platform of Platforms"  (click)="storyLevelOnChange(Platform.value)" [value]="Platform.value"
              id="platformName">
              {{Platform.viewValue}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <mat-icon color="accent" matTooltip="Add New Platforms" (click)="showDialog = !showDialog"
          style="position: absolute;top: 15px;">add_circle</mat-icon>
        <mat-error *ngIf="storyLevelSubmitted && storyLevelPlatformForm.get('platformName').hasError('required')">
          Platform Name is required..!
        </mat-error>
      </div>
    </div>
    <div class="form-group row">
      <label for="platformLead" class="col-md-2 col-form-label">Platform Lead :</label>
      <div class="col-md-10">
        <mat-form-field>
          <input matInput placeholder="Platform Lead" formControlName="platformLead" id="platformLead">
        </mat-form-field>
        <mat-error *ngIf="storyLevelSubmitted && storyLevelPlatformForm.get('platformLead').hasError('required')">
          Platform Lead is required..!
        </mat-error>
      </div>
    </div>
    <div class="form-group row">
      <label for="so5Name" class="col-md-2 col-form-label">SO5 Name :</label>
      <div class="col-md-10">
        <mat-form-field>
          <mat-label>So5 Name</mat-label>
          <mat-select formControlName="so5Name" (click)="so5DropdownClick()">
            <mat-option *ngFor="let so5Name of so5Names" [value]="so5Name.value" id="so5Name">
              {{so5Name.viewValue}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <mat-icon color="accent" matTooltip="Add New So5" (click)="showDialogSo5Mapping = !showDialogSo5Mapping"
          style="position: absolute;top: 15px;">add_circle</mat-icon>
        <mat-error *ngIf="storyLevelSubmitted && storyLevelPlatformForm.get('so5Name').hasError('required')">
          SO5 Name is required..!
        </mat-error>
      </div>
    </div>
  </form>

  <form [formGroup]="platformForm" *ngIf="showSprintLevel">
    <div class="form-group row">
      <label for="platformName" class="col-md-2 col-form-label">Platform Name :</label>
      <div class="col-md-10">
        <mat-form-field>
          <mat-label>Platform Name</mat-label>
          <mat-select formControlName="platformName" (click)="platformDropdownClick()">
            <mat-option *ngFor="let Platform of Platforms" (click)="onChange(Platform.value)" [value]="Platform.value"
              id="platformName">
              {{Platform.viewValue}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <mat-icon color="accent" matTooltip="Add New Platforms" (click)="showDialog = !showDialog"
          style="position: absolute;top: 15px;">add_circle</mat-icon>
        <mat-error *ngIf="submitted && platformForm.get('platformName').hasError('required')">
          Platform Name is required..!
        </mat-error>
      </div>
    </div>
    <div class="form-group row">
      <label for="platformLead" class="col-md-2 col-form-label">Platform Lead :</label>
      <div class="col-md-10">
        <mat-form-field>
          <input matInput placeholder="Platform Lead" formControlName="platformLead" id="platformLead">
        </mat-form-field>
        <mat-error *ngIf="submitted && platformForm.get('platformLead').hasError('required')">
          Platform Lead is required..!
        </mat-error>
      </div>
    </div>
    <div class="form-group row">
      <label for="so5Name" class="col-md-2 col-form-label">SO5 Name :</label>
      <div class="col-md-10">
        <mat-form-field>
          <mat-label>So5 Name</mat-label>
          <mat-select formControlName="so5Name" (click)="so5DropdownClick()">
            <mat-option *ngFor="let so5Name of so5Names" [value]="so5Name.value" id="so5Name">
              {{so5Name.viewValue}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <mat-icon color="accent" matTooltip="Add New So5" (click)="showDialogSo5Mapping = !showDialogSo5Mapping"
          style="position: absolute;top: 15px;">add_circle</mat-icon>
        <mat-error *ngIf="submitted && platformForm.get('so5Name').hasError('required')">
          SO5 Name is required..!
        </mat-error>
      </div>
    </div>
  </form>

  <form [formGroup]="releasePlatformForm" *ngIf="showReleaseLevel">
    <div class="form-group row">
      <label for="releasePlatformName" class="col-md-2 col-form-label">Platform Name :</label>
      <div class="col-md-10">
        <mat-form-field>
          <mat-label>Platform Name</mat-label>
          <mat-select formControlName="releasePlatformName" (click)="platformDropdownClick()">
            <mat-option *ngFor="let Platform of Platforms"
              [value]="Platform.value" id="releasePlatformName">
              {{Platform.viewValue}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <mat-icon color="accent" matTooltip="Add New Platforms" (click)="showDialog = !showDialog"
          style="position: absolute;top: 15px;">add_circle</mat-icon>
        <mat-error *ngIf="releaseSubmitted && releasePlatformForm.get('releasePlatformName').hasError('required')">
          Platform Name is required..!
        </mat-error>
      </div>
    </div>
    <div class="form-group row">
      <label for="releaseSo5Name" class="col-md-2 col-form-label">SO5 Name :</label>
      <div class="col-md-10">
        <mat-form-field>
          <mat-label>So5 Name</mat-label>
          <mat-select formControlName="releaseSo5Name" (click)="so5DropdownClick()">
            <mat-option *ngFor="let so5Name of so5Names"  (click)="releaseOnChange(so5Name.value)" [value]="so5Name.value" id="so5Name">
              {{so5Name.viewValue}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <mat-icon color="accent" matTooltip="Add New So5" (click)="showDialogSo5Mapping = !showDialogSo5Mapping"
          style="position: absolute;top: 15px;">add_circle</mat-icon>
        <mat-error *ngIf="releaseSubmitted && releasePlatformForm.get('releaseSo5Name').hasError('required')">
          SO5 Name is required..!
        </mat-error>
      </div>
    </div>
    <div class="form-group row">
      <label for="so5StartDate" class="col-md-2 col-form-label">S05 Start Date :</label>
      <div class="col-md-10">
        <mat-form-field>
          <input matInput required [matDatepicker]="so5StartDate" placeholder="So5 Start Date"
            formControlName="so5StartDate" id="so5StartDate">
          <mat-datepicker-toggle matSuffix [for]="so5StartDate"></mat-datepicker-toggle>
          <mat-datepicker #so5StartDate></mat-datepicker>
        </mat-form-field>
        <mat-error *ngIf="releaseSubmitted && releasePlatformForm.get('so5StartDate').hasError('required')">
          Start Date is required..!
        </mat-error>
      </div>
    </div>
    <div class="form-group row">
      <label for="so5EndDate" class="col-md-2 col-form-label">SO5 End Date :</label>
      <div class="col-md-10">
        <mat-form-field>
          <input matInput required [matDatepicker]="so5EndDate" placeholder="SO5 End Date" formControlName="so5EndDate"
            id="so5EndDate">
          <mat-datepicker-toggle matSuffix [for]="so5EndDate"></mat-datepicker-toggle>
          <mat-datepicker #so5EndDate></mat-datepicker>
        </mat-form-field>
        <mat-error *ngIf="releaseSubmitted && releasePlatformForm.get('so5EndDate').hasError('required')">
          End Date is required..!
        </mat-error>
      </div>
    </div>
  </form>

  <form [formGroup]="nonDeliveryKPIForm" *ngIf="showNonDeliveryKPILevel">
    <div class="form-group row">
      <label for="nonDeliveryKPIPlatformName" class="col-md-2 col-form-label">Platform Name :</label>
      <div class="col-md-10">
        <mat-form-field>
          <mat-label>Platform Name</mat-label>
          <mat-select formControlName="nonDeliveryKPIPlatformName" (click)="platformDropdownClick()">
            <mat-option *ngFor="let Platform of Platforms" 
              [value]="Platform.value" id="nonDeliveryKPIPlatformName">
              {{Platform.viewValue}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <mat-icon color="accent" matTooltip="Add New Platforms" (click)="showDialog = !showDialog"
          style="position: absolute;top: 15px;">add_circle</mat-icon>
        <mat-error
          *ngIf="nonDeliveryKPISubmitted && nonDeliveryKPIForm.get('nonDeliveryKPIPlatformName').hasError('required')">
          Platform Name is required..!
        </mat-error>
      </div>
    </div>
    <div class="form-group row">
      <label for="nonDeliveryKPISo5Name" class="col-md-2 col-form-label">SO5 Name :</label>
      <div class="col-md-10">
        <mat-form-field>
          <mat-label>So5 Name</mat-label>
          <mat-select formControlName="nonDeliveryKPISo5Name" (click)="so5DropdownClick()">
            <mat-option *ngFor="let so5Name of so5Names" (click)="nonDeliveryKPIOnChange(so5Name.value)" [value]="so5Name.value" id="nonDeliveryKPISo5Name">
              {{so5Name.viewValue}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <mat-icon color="accent" matTooltip="Add New So5" (click)="showDialogSo5Mapping = !showDialogSo5Mapping"
          style="position: absolute;top: 15px;">add_circle</mat-icon>
        <mat-error
          *ngIf="nonDeliveryKPISubmitted && nonDeliveryKPIForm.get('nonDeliveryKPISo5Name').hasError('required')">
          SO5 Name is required..!
        </mat-error>
      </div>
    </div>
    <div class="form-group row">
      <label for="nonDeliveryKPISo5StartDate" class="col-md-2 col-form-label">S05 Start Date :</label>
      <div class="col-md-10">
        <mat-form-field>
          <input matInput required [matDatepicker]="nonDeliveryKPISo5StartDate" placeholder="So5 Start Date"
            formControlName="nonDeliveryKPISo5StartDate" id="nonDeliveryKPISo5StartDate">
          <mat-datepicker-toggle matSuffix [for]="nonDeliveryKPISo5StartDate"></mat-datepicker-toggle>
          <mat-datepicker #nonDeliveryKPISo5StartDate></mat-datepicker>
        </mat-form-field>
        <mat-error
          *ngIf="nonDeliveryKPISubmitted && nonDeliveryKPIForm.get('nonDeliveryKPISo5StartDate').hasError('required')">
          Start Date is required..!
        </mat-error>
      </div>
    </div>
    <div class="form-group row">
      <label for="nonDeliveryKPISo5EndDate" class="col-md-2 col-form-label">SO5 End Date :</label>
      <div class="col-md-10">
        <mat-form-field>
          <input matInput required [matDatepicker]="nonDeliveryKPISo5EndDate" placeholder="SO5 End Date"
            formControlName="nonDeliveryKPISo5EndDate" id="nonDeliveryKPISo5EndDate">
          <mat-datepicker-toggle matSuffix [for]="nonDeliveryKPISo5EndDate"></mat-datepicker-toggle>
          <mat-datepicker #nonDeliveryKPISo5EndDate></mat-datepicker>
        </mat-form-field>
        <mat-error
          *ngIf="nonDeliveryKPISubmitted && nonDeliveryKPIForm.get('nonDeliveryKPISo5EndDate').hasError('required')">
          End Date is required..!
        </mat-error>
      </div>
    </div>
    <div class="form-group row">
      <label for="resourcesOnboarded" class="col-md-2 col-form-label">Initial Resources Onboarded as committed in the SO
        : </label>
      <div class="col-md-4">
        <mat-form-field>
          <input matInput placeholder="Resources Onboarded" id="resourcesOnboarded"
            formControlName="resourcesOnboarded">
        </mat-form-field>
        <mat-error *ngIf="nonDeliveryKPISubmitted && nonDeliveryKPIForm.get('resourcesOnboarded').hasError('required')">
          Resources Onboarded is required..!
        </mat-error>
      </div>
    </div>
  </form>

  <mat-tab-group [selectedIndex]="0" (selectedTabChange)="tabChange($event)">

    <mat-tab label="S05 Details">
      &nbsp;&nbsp;&nbsp;&nbsp;
      <div class="form-group row" *ngIf="showSo5DetailsLevel">
        <div class="col-md-12">
          <mat-card class="example-card">
            <mat-card-header>
              <div mat-card-avatar class="example-header-image"></div>
              <mat-card-title>S05 Details</mat-card-title>
            </mat-card-header>
            <mat-card-content>
              <form [formGroup]="so5DetailsLevelForm">
                <div class="form-group row">
                  <label for="so5DetailsLevelPlatform" class="col-md-1 col-form-label">Platform </label>
                  <div class="col-md-2">
                    <mat-form-field>
                      <input matInput placeholder="Platform" id="so5DetailsLevelPlatform" (keypress)="numberOnly($event)"
                        formControlName="so5DetailsLevelPlatform">
                    </mat-form-field>
                    <mat-error
                      *ngIf="so5DetailsLevelSubmitted && so5DetailsLevelForm.get('so5DetailsLevelPlatform').hasError('required')">
                      Platform is required..!
                    </mat-error>
                  </div>
                  <div class="col-md-1"></div>
                  <label for="sowNo" class="col-md-1 col-form-label">SOW NO</label>
                  <div class="col-md-2">
                    <mat-form-field>
                      <input matInput placeholder="SOW NO" id="sowNo" (keypress)="numberOnly($event)" formControlName="sowNo">
                    </mat-form-field>
                    <mat-error
                      *ngIf="so5DetailsLevelSubmitted && so5DetailsLevelForm.get('sowNo').hasError('required')">
                      SOW NO is required..!
                    </mat-error>
                  </div>
                  <div class="col-md-1"></div>
                  <label for="sowName" class="col-md-1 col-form-label">SOW Name</label>
                  <div class="col-md-2">
                    <mat-form-field>
                      <input matInput placeholder="SOW Name" id="sowName" formControlName="sowName">
                    </mat-form-field>
                    <mat-error
                      *ngIf="so5DetailsLevelSubmitted && so5DetailsLevelForm.get('sowName').hasError('required')">
                      SOW Name is required..!
                    </mat-error>
                  </div>
                  <div class="col-md-1"></div>
                </div>
                <div class="form-group row">
                  <label for="sowType" class="col-md-1 col-form-label">SOW Type </label>
                  <div class="col-md-2">
                    <mat-form-field>
                      <input matInput placeholder="SOW Type" id="sowType" formControlName="sowType">
                    </mat-form-field>
                    <mat-error
                      *ngIf="so5DetailsLevelSubmitted && so5DetailsLevelForm.get('sowType').hasError('required')">
                      SOW Type is required..!
                    </mat-error>
                  </div>
                  <div class="col-md-1"></div>
                  <label for="hclPM" class="col-md-1 col-form-label">HCL PM</label>
                  <div class="col-md-2">
                    <mat-form-field>
                      <input matInput placeholder="HCL PM" id="hclPM" formControlName="hclPM">
                    </mat-form-field>
                    <mat-error
                      *ngIf="so5DetailsLevelSubmitted && so5DetailsLevelForm.get('hclPM').hasError('required')">
                      HCL PM is required..!
                    </mat-error>
                  </div>
                  <div class="col-md-1"></div>
                  <label for="hclDh" class="col-md-1 col-form-label">HCL DH</label>
                  <div class="col-md-2">
                    <mat-form-field>
                      <input matInput placeholder="HCL DH" id="hclDh" formControlName="hclDh">
                    </mat-form-field>
                    <mat-error
                      *ngIf="so5DetailsLevelSubmitted && so5DetailsLevelForm.get('hclDh').hasError('required')">
                      HCL DH is required..!
                    </mat-error>
                  </div>
                  <div class="col-md-1"></div>
                </div>
                <div class="form-group row">
                  <label for="cbaManager" class="col-md-1 col-form-label">CBA Manager</label>
                  <div class="col-md-2">
                    <mat-form-field>
                      <input matInput placeholder="CBA Manager" id="cbaManager" formControlName="cbaManager">
                    </mat-form-field>
                    <mat-error
                      *ngIf="so5DetailsLevelSubmitted && so5DetailsLevelForm.get('cbaManager').hasError('required')">
                      CBA Manager is required..!
                    </mat-error>
                  </div>
                  <div class="col-md-1"></div>
                  <label for="sowStartDate" class="col-md-1 col-form-label">Start Date</label>
                  <div class="col-md-2">
                    <mat-form-field>
                      <input matInput required [matDatepicker]="sowStartDate"
                        [max]="so5DetailsLevelForm.controls.sowEndDate.value" placeholder="SOW Start Date"
                        formControlName="sowStartDate" id="sowStartDate">
                      <mat-datepicker-toggle matSuffix [for]="sowStartDate"></mat-datepicker-toggle>
                      <mat-datepicker #sowStartDate></mat-datepicker>
                    </mat-form-field>
                    <mat-error
                      *ngIf="so5DetailsLevelSubmitted && so5DetailsLevelForm.get('sowStartDate').hasError('required')">
                      SOW Start Date is required..!
                    </mat-error>
                  </div>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  <div class="col-md-1"></div>
                  <label for="sowEndDate" class="col-md-1 col-form-label">End Date</label>
                  <div class="col-md-2">
                    <mat-form-field>
                      <input matInput required [matDatepicker]="sowEndDate"
                        [min]="so5DetailsLevelForm.controls.sowStartDate.value" placeholder="SOW End Date"
                        formControlName="sowEndDate" id="sowEndDate">
                      <mat-datepicker-toggle matSuffix [for]="sowEndDate"></mat-datepicker-toggle>
                      <mat-datepicker #sowEndDate></mat-datepicker>
                    </mat-form-field>
                    <mat-error
                      *ngIf="so5DetailsLevelSubmitted && so5DetailsLevelForm.get('sowEndDate').hasError('required')">
                      SOW End Date is required..!
                    </mat-error>
                  </div>
                  <div class="col-md-1"></div>
                </div>
              </form>

            </mat-card-content>
          </mat-card>
          <br /><br />
          <mat-card class="example-card1">
            <mat-card-header>
              <div mat-card-avatar class="example-header-image"></div>
              <mat-card-title>Velocity / Agility</mat-card-title>
            </mat-card-header>
            <mat-divider></mat-divider>
            <mat-card-content>
              <form [formGroup]="so5DetailsVelocityForm">
                Velocity
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                <mat-radio-group aria-label="Select an option" id="velocity" formControlName="velocity">
                  <mat-radio-button value="true">Yes</mat-radio-button>
                  <mat-radio-button value="false">No</mat-radio-button>
                </mat-radio-group>
                <mat-divider></mat-divider>
                Feature Cycle Time <mat-radio-group aria-label="Select an option" id="featureCycleTime"
                  formControlName="featureCycleTime">
                  <mat-radio-button value="true">Yes</mat-radio-button>
                  <mat-radio-button value="false">No</mat-radio-button>
                </mat-radio-group>
                <mat-divider></mat-divider>
                Story Cycle Time &nbsp;&nbsp;&nbsp;&nbsp;<mat-radio-group aria-label="Select an option"
                  id="storyCycleTime" formControlName="storyCycleTime">
                  <mat-radio-button value="true">Yes</mat-radio-button>
                  <mat-radio-button value="false">No</mat-radio-button>
                </mat-radio-group>
                <mat-divider></mat-divider>
              </form>
            </mat-card-content>
          </mat-card>
          <mat-card class="example-card1">
            <mat-card-header>
              <div mat-card-avatar class="example-header-image"></div>
              <mat-card-title>Quality</mat-card-title>
            </mat-card-header>
            <mat-divider></mat-divider>
            <mat-card-content>
              <form [formGroup]="so5DetailsQualityForm">
                On Quality Completion
                <mat-radio-group aria-label="Select an option" id="onQualityCompletion"
                  formControlName="onQualityCompletion">
                  <mat-radio-button value="true">Yes</mat-radio-button>
                  <mat-radio-button value="false">No</mat-radio-button>
                </mat-radio-group>
                <mat-divider></mat-divider>
                SIT Defect Leakage &nbsp;&nbsp;&nbsp;&nbsp;<mat-radio-group aria-label="Select an option"
                  id="qualitySITDefectLeakage" formControlName="qualitySITDefectLeakage">
                  <mat-radio-button value="true">Yes</mat-radio-button>
                  <mat-radio-button value="false">No</mat-radio-button>
                </mat-radio-group>
                <mat-divider></mat-divider>
              </form>
            </mat-card-content>
          </mat-card>
          <mat-card class="example-card1">
            <mat-card-header>
              <div mat-card-avatar class="example-header-image"></div>
              <mat-card-title>Effectiveness</mat-card-title>
            </mat-card-header>
            <mat-divider></mat-divider>
            <mat-card-content>
              <form [formGroup]="so5DetailsEffectivenessForm">
                Sprint Variance &nbsp;&nbsp;&nbsp;
                <mat-radio-group aria-label="Select an option" id="sprintVariance" formControlName="sprintVariance">
                  <mat-radio-button value="true">Yes</mat-radio-button>
                  <mat-radio-button value="false">No</mat-radio-button>
                </mat-radio-group>
                <mat-divider></mat-divider>
                Release Variance <mat-radio-group aria-label="Select an option" id="releaseVariance"
                  formControlName="releaseVariance">
                  <mat-radio-button value="true">Yes</mat-radio-button>
                  <mat-radio-button value="false">No</mat-radio-button>
                </mat-radio-group>
                <mat-divider></mat-divider>
                <br />
                Story Volatility &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<mat-radio-group aria-label="Select an option"
                  id="storyVolatility" formControlName="storyVolatility">
                  <mat-radio-button value="true">Yes</mat-radio-button>
                  <mat-radio-button value="false">No</mat-radio-button>
                </mat-radio-group>
                <mat-divider></mat-divider>
                <br />
                Feature Volatility &nbsp;&nbsp;<mat-radio-group aria-label="Select an option" id="featureVolatility"
                  formControlName="featureVolatility">
                  <mat-radio-button value="true">Yes</mat-radio-button>
                  <mat-radio-button value="false">No</mat-radio-button>
                </mat-radio-group>
                <mat-divider></mat-divider>
              </form>
            </mat-card-content>
          </mat-card>

          <mat-card class="example-card1">
            <mat-card-header>
              <div mat-card-avatar class="example-header-image"></div>
              <mat-card-title>Burndown's</mat-card-title>
            </mat-card-header>
            <mat-divider></mat-divider>
            <mat-card-content>
              <form [formGroup]="so5DetailsBurndownForm">
                Sprint Burndown &nbsp;&nbsp;&nbsp;
                <mat-radio-group aria-label="Select an option" id="sprintBurndown" formControlName="sprintBurndown">
                  <mat-radio-button value="true">Yes</mat-radio-button>
                  <mat-radio-button value="false">No</mat-radio-button>
                </mat-radio-group>
                <mat-divider></mat-divider>
                Release Burndown <mat-radio-group aria-label="Select an option" id="releaseBurndown"
                  formControlName="releaseBurndown">
                  <mat-radio-button value="true">Yes</mat-radio-button>
                  <mat-radio-button value="false">No</mat-radio-button>
                </mat-radio-group>
                <mat-divider></mat-divider>
                Sprint Burn Up &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<mat-radio-group aria-label="Select an option"
                  id="sprintBurnUp" formControlName="sprintBurnUp">
                  <mat-radio-button value="true">Yes</mat-radio-button>
                  <mat-radio-button value="false">No</mat-radio-button>
                </mat-radio-group>
                <mat-divider></mat-divider>
                Release Burn Up &nbsp;&nbsp;&nbsp;<mat-radio-group aria-label="Select an option" id="releaseBurnUp"
                  formControlName="releaseBurnUp">
                  <mat-radio-button value="true">Yes</mat-radio-button>
                  <mat-radio-button value="false">No</mat-radio-button>
                </mat-radio-group>
                <mat-divider></mat-divider>
              </form>
            </mat-card-content>
          </mat-card>

          <mat-card class="example-card1">
            <mat-card-header>
              <div mat-card-avatar class="example-header-image"></div>
              <mat-card-title>People</mat-card-title>
            </mat-card-header>
            <mat-divider></mat-divider>
            <mat-card-content>
              <form [formGroup]="so5DetailsPeopleForm">
                Retention
                <mat-radio-group aria-label="Select an option" id="people" formControlName="people">
                  <mat-radio-button value="true">Yes</mat-radio-button>
                  <mat-radio-button value="false">No</mat-radio-button>
                </mat-radio-group>
                <mat-divider></mat-divider>
              </form>
            </mat-card-content>
          </mat-card>
        </div>
      </div>
      <div class="form-group row">
        <div class="col-md-6"></div>
        <div class="col-md-6">
          <button mat-raised-button color="primary" *ngIf="!updateSo5DetailsLevelBtn"
            [disabled]="so5DetailsLevelSubmitted && (so5DetailsLevelForm.invalid)"
            (click)="so5DetailsLevelAddDetails();">Add Details</button>
        </div>
      </div>

      <table mat-table [dataSource]="so5DetailsLevelDataSource" class="mat-elevation-z8"
        *ngIf="so5DetailsLevelDataSource.data.length != 0">
        <ng-container matColumnDef="index">
          <th mat-header-cell *matHeaderCellDef> Sl.No </th>
          <td mat-cell *matCellDef="let element; let i = index;"> {{i +1 }} </td>
        </ng-container>
        <ng-container matColumnDef="so5DetailsLevelPlatform">
            <th mat-header-cell *matHeaderCellDef> Platform</th>
            <td mat-cell *matCellDef="let element"> {{element.so5DetailsLevelPlatform}} </td>
            </ng-container>
            <ng-container matColumnDef="sowNo">
            <th mat-header-cell *matHeaderCellDef> SOW NO</th>
            <td mat-cell *matCellDef="let element"> {{element.sowNo}} </td>
            </ng-container>
            <ng-container matColumnDef="sowName">
            <th mat-header-cell *matHeaderCellDef> SOW Name</th>
            <td mat-cell *matCellDef="let element"> {{element.sowName}} </td>
            </ng-container>
            <ng-container matColumnDef="sowType">
            <th mat-header-cell *matHeaderCellDef> SOW Type</th>
            <td mat-cell *matCellDef="let element"> {{element.sowType}} </td>
            </ng-container>
            <ng-container matColumnDef="hclPM">
            <th mat-header-cell *matHeaderCellDef> HCL PM</th>
            <td mat-cell *matCellDef="let element"> {{element.hclPM}} </td>
            </ng-container>
              <ng-container matColumnDef="hclDh">
            <th mat-header-cell *matHeaderCellDef> HCL DH</th>
            <td mat-cell *matCellDef="let element"> {{element.hclDh}} </td>
            </ng-container>	
              <ng-container matColumnDef="cbaManager">
            <th mat-header-cell *matHeaderCellDef>CBA Manager</th>
            <td mat-cell *matCellDef="let element"> {{element.cbaManager}} </td>
            </ng-container>	
            <ng-container matColumnDef="sowStartDate">
            <th mat-header-cell *matHeaderCellDef>Start Date</th>
            <td mat-cell *matCellDef="let element"> {{element.sowStartDate| date : 'dd/MM/yyyy'}} </td>
            </ng-container>
            <ng-container matColumnDef="sowEndDate">
            <th mat-header-cell *matHeaderCellDef>End Date</th>
            <td mat-cell *matCellDef="let element"> {{element.sowEndDate| date : 'dd/MM/yyyy'}} </td>
            </ng-container>
            <ng-container matColumnDef="velocity">
            <th mat-header-cell *matHeaderCellDef>Velocity</th>
            <td mat-cell *matCellDef="let element"> {{element.velocity}} </td>
            </ng-container>
            <ng-container matColumnDef="featureCycleTime">
            <th mat-header-cell *matHeaderCellDef>Feature Cycle Time</th>
            <td mat-cell *matCellDef="let element"> {{element.featureCycleTime}} </td>
            </ng-container>
            <ng-container matColumnDef="storyCycleTime">
            <th mat-header-cell *matHeaderCellDef>Story Cycle Time</th>
            <td mat-cell *matCellDef="let element"> {{element.storyCycleTime}} </td>
            </ng-container>
            <ng-container matColumnDef="onQualityCompletion">
            <th mat-header-cell *matHeaderCellDef>On Quality Completion</th>
            <td mat-cell *matCellDef="let element"> {{element.onQualityCompletion}} </td>
            </ng-container>
            <ng-container matColumnDef="qualitySITDefectLeakage">
            <th mat-header-cell *matHeaderCellDef>SIT Defect Leakage</th>
            <td mat-cell *matCellDef="let element"> {{element.qualitySITDefectLeakage}} </td>
            </ng-container>
            <ng-container matColumnDef="sprintVariance">
            <th mat-header-cell *matHeaderCellDef>Sprint Variance</th>
            <td mat-cell *matCellDef="let element"> {{element.sprintVariance}} </td>
            </ng-container>
            <ng-container matColumnDef="releaseVariance">
            <th mat-header-cell *matHeaderCellDef>Release  Variance</th>
            <td mat-cell *matCellDef="let element"> {{element.releaseVariance}} </td>
            </ng-container>
            <ng-container matColumnDef="storyVolatility">
            <th mat-header-cell *matHeaderCellDef>Story Volatility</th>
            <td mat-cell *matCellDef="let element"> {{element.storyVolatility}} </td>
            </ng-container>
            <ng-container matColumnDef="featureVolatility">
            <th mat-header-cell *matHeaderCellDef>Feature Volatility</th>
            <td mat-cell *matCellDef="let element"> {{element.featureVolatility}} </td>
            </ng-container>
            <ng-container matColumnDef="sprintBurndown">
            <th mat-header-cell *matHeaderCellDef>Sprint Burndown</th>
            <td mat-cell *matCellDef="let element"> {{element.sprintBurndown}} </td>
            </ng-container>
            <ng-container matColumnDef="releaseBurndown">
            <th mat-header-cell *matHeaderCellDef>Release Burndown</th>
            <td mat-cell *matCellDef="let element"> {{element.releaseBurndown}} </td>
            </ng-container>
            <ng-container matColumnDef="sprintBurnUp">
            <th mat-header-cell *matHeaderCellDef>Sprint Burn Up</th>
            <td mat-cell *matCellDef="let element"> {{element.sprintBurnUp}} </td>
            </ng-container>
            <ng-container matColumnDef="releaseBurnUp">
            <th mat-header-cell *matHeaderCellDef>Release Burn Up</th>
            <td mat-cell *matCellDef="let element"> {{element.releaseBurnUp}} </td>
            </ng-container>
            <ng-container matColumnDef="people">
            <th mat-header-cell *matHeaderCellDef>Retention</th>
            <td mat-cell *matCellDef="let element"> {{element.people}} </td>
            </ng-container>
        <tr mat-header-row *matHeaderRowDef="so5DetailsLevelDisplayedColumns"></tr>
        <tr mat-row style="cursor: pointer" *matRowDef="let row; columns: so5DetailsLevelDisplayedColumns;"></tr>
      </table>
    </mat-tab>

    <mat-tab label="Story Level">
      &nbsp;&nbsp;&nbsp;&nbsp;
      <div class="form-group row" *ngIf="showStoryLevel">
        <div class="col-md-12">
          <mat-card class="example-card">
            <mat-card-header>
              <div mat-card-avatar class="example-header-image"></div>
              <mat-card-title>Story Level Details</mat-card-title>
            </mat-card-header>
            <mat-card-content>
              <form [formGroup]="storyLevelForm">
                <div class="form-group row">
                  <label for="storyLevelSprint" class="col-md-2 col-form-label">Sprint #</label>
                  <div class="col-md-4">
                    <mat-form-field>
                      <input matInput placeholder="Sprint #" (keypress)="numberOnly($event)" id="storyLevelSprint" formControlName="storyLevelSprint">
                    </mat-form-field>
                    <mat-error
                      *ngIf="storyLevelSubmitted && storyLevelForm.get('storyLevelSprint').hasError('required')">
                      Sprint # is required..!
                    </mat-error>
                  </div>
                  <label for="UserStoryIDs" class="col-md-2 col-form-label">User Story IDs</label>
                  <div class="col-md-4">
                    <mat-form-field>
                      <input matInput placeholder="User Story IDs" id="UserStoryIDs" formControlName="UserStoryIDs">
                    </mat-form-field>
                    <mat-error *ngIf="storyLevelSubmitted && storyLevelForm.get('UserStoryIDs').hasError('required')">
                      User Story IDs is required..!
                    </mat-error>
                  </div>
                </div>
                <div class="form-group row">
                  <label for="storyStartDate" class="col-md-2 col-form-label">Story "In Dev" Start Date</label>
                  <div class="col-md-4">
                    <mat-form-field>
                      <input matInput [matDatepicker]="storyStartDatePicker"
                        (dateChange)="calculateCycleTime(storyLevelForm)"
                        [max]="storyLevelForm.controls.storyReleaseDate.value" placeholder="Start Date"
                        id="storyStartDatePicker" formControlName="storyStartDate">
                      <mat-datepicker-toggle matSuffix [for]="storyStartDatePicker"></mat-datepicker-toggle>
                      <mat-datepicker #storyStartDatePicker></mat-datepicker>
                    </mat-form-field>
                    <mat-error *ngIf="storyLevelSubmitted && storyLevelForm.get('storyStartDate').hasError('required')">
                      Start Date is required..!
                    </mat-error>
                  </div>
                  <label for="storyReleaseDate" class="col-md-2 col-form-label">Story "Ready for Release" Date</label>
                  <div class="col-md-4">
                    <mat-form-field>
                      <input matInput [matDatepicker]="storyReleaseDatePicker"
                        (dateChange)="calculateCycleTime(storyLevelForm)"
                        [min]="storyLevelForm.controls.storyStartDate.value" placeholder="Start Date"
                        id="storyReleaseDatePicker" formControlName="storyReleaseDate">
                      <mat-datepicker-toggle matSuffix [for]="storyReleaseDatePicker"></mat-datepicker-toggle>
                      <mat-datepicker #storyReleaseDatePicker></mat-datepicker>
                    </mat-form-field>
                    <mat-error
                      *ngIf="storyLevelSubmitted && storyLevelForm.get('storyReleaseDate').hasError('required')">
                      Release Date is required..!
                    </mat-error>
                  </div>
                </div>
                <div class="form-group row">
                  <label for="storyCycleTime" class="col-md-2 col-form-label">Story Cycle Time </label>
                  <div class="col-md-4">
                    <mat-form-field>
                      <input matInput (keypress)="numberOnly($event)" placeholder="Cycle Time" id="storyCycleTime"
                        formControlName="storyCycleTime">
                    </mat-form-field>
                    <mat-error *ngIf="storyLevelSubmitted && storyLevelForm.get('storyCycleTime').hasError('required')">
                      Cycle Time is required..!
                    </mat-error>
                  </div>
                </div>
              </form>
              <div class="form-group row">
                <div class="col-md-6"></div>
                <div class="col-md-6">
                  <button mat-raised-button color="primary" *ngIf="!storyLevelUpdateBtn"
                    [disabled]="storyLevelSubmitted && (storyLevelPlatformForm.invalid || storyLevelForm.invalid)"
                    (click)="storyLevelAddDetails();">
                    Add Details
                  </button>
                  <button mat-raised-button color="accent" *ngIf="storyLevelUpdateBtn"
                    [disabled]="storyLevelSubmitted && (storyLevelPlatformForm.invalid || storyLevelForm.invalid)"
                    (click)="storyLevelUpdateDetails();">
                    Update Details
                  </button>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  <button mat-raised-button *ngIf="storyLevelUpdateBtn"
                    (click)="storyLevelCancelEdit();">Cancel</button>
                </div>
              </div>
            </mat-card-content>
          </mat-card>
        </div>
      </div>
      <table mat-table [dataSource]="storyLevelDataSource" class="mat-elevation-z8"
        *ngIf="storyLevelDataSource.data.length != 0 && !storyLevelUpdateBtn">
        <ng-container matColumnDef="index">
          <th mat-header-cell *matHeaderCellDef> Sl.No </th>
          <td mat-cell *matCellDef="let element; let i = index;"> {{i +1 }} </td>
        </ng-container>
        <ng-container matColumnDef="storyLevelSprint">
          <th mat-header-cell *matHeaderCellDef> Sprint #</th>
          <td mat-cell *matCellDef="let element"> {{element.storyLevelSprint}} </td>
        </ng-container>
        <ng-container matColumnDef="UserStoryIDs">
          <th mat-header-cell *matHeaderCellDef> User Story IDs </th>
          <td mat-cell *matCellDef="let element"> {{element.UserStoryIDs}} </td>
        </ng-container>
        <ng-container matColumnDef="storyStartDate">
          <th mat-header-cell *matHeaderCellDef> Story "In Dev" Start Date</th>
          <td mat-cell *matCellDef="let element"> {{element.storyStartDate| date : 'dd/MM/yyyy'}} </td>
        </ng-container>
        <ng-container matColumnDef="storyReleaseDate">
          <th mat-header-cell *matHeaderCellDef> Story "In Dev" Start Date </th>
          <td mat-cell *matCellDef="let element"> {{element.storyReleaseDate| date : 'dd/MM/yyyy'}} </td>
        </ng-container>
        <ng-container matColumnDef="storyCycleTime">
          <th mat-header-cell *matHeaderCellDef> Story Cycle Time (FC3) </th>
          <td mat-cell *matCellDef="let element"> {{element.storyCycleTime}} </td>
        </ng-container>
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef> Action </th>
          <td mat-cell *matCellDef="let row;let i = index;">
            &nbsp;&nbsp;
            <mat-icon color="accent" inline="true" (click)="startEditStoryLevel(i,row)">edit</mat-icon>
            &nbsp;&nbsp;
            <mat-icon color="warn" inline="true" (click)="deleteRowStoryLevel(i)">delete</mat-icon>
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="storyLevelDisplayedColumns"></tr>
        <tr mat-row style="cursor: pointer" *matRowDef="let row; columns: storyLevelDisplayedColumns;let i = index;"
          (dblclick)="startEditStoryLevel(i,row)"></tr>
      </table>
      <br />
      <div class="form-group row" *ngIf="storyLevelDataSource.data.length != 0 && !storyLevelUpdateBtn">
        <div class="col-md-3"></div>
        <div class="col-md-2">
          <button mat-raised-button color="primary" (click)="saveStoryLevel()">Submit Data</button>
        </div>
        <div class="col-md-2">
          <button mat-raised-button color="primary">View Trends</button>
        </div>
        <div class="col-md-2">
          <button mat-raised-button color="primary" (click)="StoryLevelExport_Excel()">Excel</button>
        </div>
      </div>
    </mat-tab>

    <mat-tab label="Sprint Level">
      &nbsp;&nbsp;&nbsp;&nbsp;
      <div class="form-group row" *ngIf="showSprintLevel">
        <div class="col-md-4">
          <mat-card class="example-card">
            <mat-card-header>
              <div mat-card-avatar class="example-header-image"></div>
              <mat-card-title>Sprint Details</mat-card-title>
            </mat-card-header>
            <mat-card-content>
              <form [formGroup]="teamSquardForm">
                <div class="form-group row">
                  <label for="teamSquard" class="col-md-4 col-form-label">Team / Squad </label>
                  <div class="col-md-8">
                    <mat-form-field>
                      <input matInput placeholder="Team / Squad" id="teamSquard" formControlName="teamSquard">
                    </mat-form-field>
                    <mat-error *ngIf="submitted && teamSquardForm.get('teamSquard').hasError('required')">
                      Team / Squad is required..!
                    </mat-error>
                  </div>
                </div>
                <div class="form-group row">
                  <label for="sprint" class="col-md-4 col-form-label">Sprint # </label>
                  <div class="col-md-8">
                    <mat-form-field>
                      <input matInput placeholder="Sprint #" id="sprint" formControlName="sprint">
                    </mat-form-field>
                    <mat-error *ngIf="submitted && teamSquardForm.get('sprint').hasError('required')">
                      Sprint # is required..!
                    </mat-error>
                  </div>
                </div>
                <div class="form-group row">
                  <label for="sprintStartDate" class="col-md-4 col-form-label">Sprint Start Date </label>
                  <div class="col-md-8">
                    <mat-form-field>
                        <input matInput [matDatepicker]="sprintStartDatePicker" 
                          placeholder="Sprint Start Date"[max]="teamSquardForm.controls.sprintEndDate.value"  id="sprintStartDate" formControlName="sprintStartDate">
                        <mat-datepicker-toggle matSuffix [for]="sprintStartDatePicker"></mat-datepicker-toggle>
                        <mat-datepicker #sprintStartDatePicker></mat-datepicker>
                      </mat-form-field>
                      <mat-error *ngIf="submitted && teamSquardForm.get('sprintStartDate').hasError('required')">
                          Sprint Start Date is required..!
                      </mat-error>
                  </div>
                </div>
                <div class="form-group row">
                    <label for="sprintEndDate" class="col-md-4 col-form-label">Sprint End Date </label>
                    <div class="col-md-8">
                      <mat-form-field>
                          <input matInput [matDatepicker]="sprintEndDatePicker" 
                            placeholder="Sprint End Date" [min]="teamSquardForm.controls.sprintStartDate.value" id="sprintEndDate" formControlName="sprintEndDate">
                          <mat-datepicker-toggle matSuffix [for]="sprintEndDatePicker"></mat-datepicker-toggle>
                          <mat-datepicker #sprintEndDatePicker></mat-datepicker>
                        </mat-form-field>
                        <mat-error *ngIf="submitted && teamSquardForm.get('sprintEndDate').hasError('required')">
                            Sprint End Date is required..!
                        </mat-error>
                    </div>
                  </div>
              </form>
            </mat-card-content>
          </mat-card>
        </div>
        <div class="col-md-8">
          <mat-card class="example-card">
            <mat-card-header>
              <div mat-card-avatar class="example-header-image"></div>
              <mat-card-title>Story Information</mat-card-title>
            </mat-card-header>
            <mat-card-content>
              <form [formGroup]="sprintForm">
                <div class="form-group row">
                  <label for="completed" class="col-md-2 col-form-label">Story Points Completed </label>
                  <div class="col-md-4">
                    <mat-form-field>
                      <input matInput (keypress)="numberOnly($event)" placeholder="Completed" id="completed"
                        formControlName="completed">
                    </mat-form-field>
                    <mat-error *ngIf="submitted && sprintForm.get('completed').hasError('required')">
                      Story Point Completed is required..!
                    </mat-error>
                  </div>
                  <label for="commitedInSprint" class="col-md-2 col-form-label">User stories committed in the Sprint
                  </label>
                  <div class="col-md-4">
                    <mat-form-field>
                      <input matInput (keypress)="numberOnly($event)" placeholder="Commited in Sprint"
                        id="commitedInSprint" formControlName="commitedInSprint">
                    </mat-form-field>
                    <mat-error *ngIf="submitted && sprintForm.get('commitedInSprint').hasError('required')">
                      Commited In Sprint is required..!
                    </mat-error>
                  </div>
                </div>
                <div class="form-group row">
                  <label for="commited" class="col-md-2 col-form-label">Story Points Committed </label>
                  <div class="col-md-4">
                    <mat-form-field>
                      <input matInput (keypress)="numberOnly($event)" placeholder="Commited" id="commited"
                        formControlName="commited">
                    </mat-form-field>
                    <mat-error *ngIf="submitted && sprintForm.get('commited').hasError('required')">
                      Story Point Commited is required..!
                    </mat-error>
                  </div>
                  <label for="completedInSprint" class="col-md-2 col-form-label">User Stories Completed within the
                    Sprint </label>
                  <div class="col-md-4">
                    <mat-form-field>
                      <input matInput (keypress)="numberOnly($event)" placeholder="Commited in Sprint"
                        id="completedInSprint" formControlName="completedInSprint">
                    </mat-form-field>
                    <mat-error *ngIf="submitted && sprintForm.get('completedInSprint').hasError('required')">
                      Completed In Sprint is required..!
                    </mat-error>
                  </div>
                </div>
                <div class="form-group row">
                  <label for="done" class="col-md-2 col-form-label">Story Points marked as "Done" </label>
                  <div class="col-md-4">
                    <mat-form-field>
                      <input matInput (keypress)="numberOnly($event)" placeholder="Done" id="done"
                        formControlName="done">
                    </mat-form-field>
                    <mat-error *ngIf="submitted && sprintForm.get('done').hasError('required')">
                      Story Point Done is required..!
                    </mat-error>
                  </div>
                  <label for="changedInSprint" class="col-md-2 col-form-label">User stories changed during the Sprint
                  </label>
                  <div class="col-md-4">
                    <mat-form-field>
                      <input matInput (keypress)="numberOnly($event)" placeholder="Changed in Sprint"
                        id="changedInSprint" formControlName="changedInSprint">
                    </mat-form-field>
                    <mat-error *ngIf="submitted && sprintForm.get('changedInSprint').hasError('required')">
                      Changed during Sprint is required..!
                    </mat-error>
                  </div>
                </div>
                <div class="form-group row">
                  <!-- <label for="startDate" class="col-md-2 col-form-label">Min Story "In Dev" start date </label>
                  <div class="col-md-4">
                    <mat-form-field>
                      <input matInput [matDatepicker]="startDatePicker" [max]="sprintForm.controls.endDate.value"
                        placeholder="Choose a Start Date" id="startDatePicker" formControlName="startDate">
                      <mat-datepicker-toggle matSuffix [for]="startDatePicker"></mat-datepicker-toggle>
                      <mat-datepicker #startDatePicker></mat-datepicker>
                    </mat-form-field>
                    <mat-error *ngIf="submitted && sprintForm.get('startDate').hasError('required')">
                      Sprint Start Date is required..!
                    </mat-error>
                  </div> -->
                  <label for="comments" class="col-md-2 col-form-label">Comments </label>
                  <div class="col-md-10">
                    <mat-form-field>
                      <textarea matInput placeholder="Leave a comment" id="comments"
                        formControlName="comments"></textarea>
                    </mat-form-field>
                  </div>
                </div>
                <!-- <div class="form-group row">
                  <label for="endDate" class="col-md-2 col-form-label">Story marked as "Done" - Max Date </label>
                  <div class="col-md-4">
                    <mat-form-field>
                      <input matInput [matDatepicker]="endDatePicker" [min]="sprintForm.controls.startDate.value"
                        placeholder="Choose a End Date" id="endDatePicker" formControlName="endDate">
                      <mat-datepicker-toggle matSuffix [for]="endDatePicker"></mat-datepicker-toggle>
                      <mat-datepicker #endDatePicker></mat-datepicker>
                    </mat-form-field>
                    <mat-error *ngIf="submitted && sprintForm.get('endDate').hasError('required')">
                      Sprint Start End is required..!
                    </mat-error>
                  </div>
                </div> -->

              </form>
              <div class="form-group row">
                <div class="col-md-6"></div>
                <div class="col-md-6">
                  <button mat-raised-button color="primary" *ngIf="!updateBtn"
                    [disabled]="submitted && (platformForm.invalid || sprintForm.invalid || teamSquardForm.invalid)"
                    (click)="addDetails();">
                    Add Details
                  </button>
                  <button mat-raised-button color="accent" *ngIf="updateBtn"
                    [disabled]="submitted && (sprintForm.invalid || teamSquardForm.invalid)" (click)="updateDetails();">
                    Update Details
                  </button>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  <button mat-raised-button *ngIf="updateBtn" (click)="cancelEdit();">Cancel</button>
                </div>
              </div>
            </mat-card-content>
          </mat-card>
        </div>
      </div>
      <table mat-table [dataSource]="dataSource" class="mat-elevation-z8"
        *ngIf="dataSource.data.length != 0 && !updateBtn">
        <ng-container matColumnDef="index">
          <th mat-header-cell *matHeaderCellDef> Sl.No </th>
          <td mat-cell *matCellDef="let element; let i = index;"> {{i +1 }} </td>
        </ng-container>
        <ng-container matColumnDef="teamSquard">
          <th mat-header-cell *matHeaderCellDef> Team Squad </th>
          <td mat-cell *matCellDef="let element"> {{element.teamSquard}} </td>
        </ng-container>
        <ng-container matColumnDef="sprint">
          <th mat-header-cell *matHeaderCellDef> Sprint </th>
          <td mat-cell *matCellDef="let element"> {{element.sprint}} </td>
        </ng-container>
        <ng-container matColumnDef="sprintStartDate">
          <th mat-header-cell *matHeaderCellDef> Sprint Start Date </th>
          <td mat-cell *matCellDef="let element"> {{element.sprintStartDate | date : 'dd/MM/yyyy'}} </td>
        </ng-container>
        <ng-container matColumnDef="sprintEndDate">
            <th mat-header-cell *matHeaderCellDef> Sprint End Date </th>
            <td mat-cell *matCellDef="let element"> {{element.sprintEndDate | date : 'dd/MM/yyyy'}} </td>
          </ng-container>
        <ng-container matColumnDef="completed">
          <th mat-header-cell *matHeaderCellDef> Story Points Completed </th>
          <td mat-cell *matCellDef="let element"> {{element.completed}} </td>
        </ng-container>
        <ng-container matColumnDef="commited">
          <th mat-header-cell *matHeaderCellDef> Story Points Committed </th>
          <td mat-cell *matCellDef="let element"> {{element.commited}} </td>
        </ng-container>
        <ng-container matColumnDef="done">
          <th mat-header-cell *matHeaderCellDef> Story Points marked as "Done" </th>
          <td mat-cell *matCellDef="let element"> {{element.done}} </td>
        </ng-container>
        <!-- <ng-container matColumnDef="startDate">
          <th mat-header-cell *matHeaderCellDef> Min Story "In Dev" start date </th>
          <td mat-cell *matCellDef="let element"> {{element.startDate | date : 'dd/MM/yyyy'}}</td>
        </ng-container>
        <ng-container matColumnDef="endDate">
          <th mat-header-cell *matHeaderCellDef> Story marked as "Done" - Max Date </th>
          <td mat-cell *matCellDef="let element"> {{element.endDate | date : 'dd/MM/yyyy'}} </td>
        </ng-container> -->
        <ng-container matColumnDef="commitedInSprint">
          <th mat-header-cell *matHeaderCellDef> User stories committed in the Sprint </th>
          <td mat-cell *matCellDef="let element"> {{element.commitedInSprint}} </td>
        </ng-container>
        <ng-container matColumnDef="completedInSprint">
          <th mat-header-cell *matHeaderCellDef> User Stories Completed within the Sprint </th>
          <td mat-cell *matCellDef="let element"> {{element.completedInSprint}} </td>
        </ng-container>
        <ng-container matColumnDef="changedInSprint">
          <th mat-header-cell *matHeaderCellDef> User stories changed during the Sprint </th>
          <td mat-cell *matCellDef="let element"> {{element.changedInSprint}} </td>
        </ng-container>
        <ng-container matColumnDef="comments">
          <th mat-header-cell *matHeaderCellDef> Comments </th>
          <td mat-cell *matCellDef="let element"> {{element.comments}} </td>
        </ng-container>
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef> Action </th>
          <td mat-cell *matCellDef="let row;let i = index;">
            &nbsp;&nbsp;
            <mat-icon color="accent" inline="true" (click)="startEdit(i,row)">edit</mat-icon>
            &nbsp;&nbsp;
            <mat-icon color="warn" inline="true" (click)="deleteRow(i)">delete</mat-icon>
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row style="cursor: pointer" *matRowDef="let row; columns: displayedColumns;let i = index;"
          (dblclick)="startEdit(i,row)"></tr>
      </table>
      <br />
      <div class="form-group row" *ngIf="dataSource.data.length != 0">
        <div class="col-md-5"></div>
        <div class="col-md-6" *ngIf="!updateBtn">
          <button mat-raised-button color="primary" (click)="calculateSprintDetails()">Calculate</button>
        </div>
      </div>
      <table mat-table [dataSource]="dataSource_Cal" class="mat-elevation-z8" *ngIf="dataSource_Cal.data.length != 0">
        <ng-container matColumnDef="index">
          <th mat-header-cell *matHeaderCellDef> Sl.No </th>
          <td mat-cell *matCellDef="let element; let i = index;"> {{i +1 }} </td>
        </ng-container>
        <ng-container matColumnDef="velocity">
          <th mat-header-cell *matHeaderCellDef> FC-1 Velocity </th>
          <td mat-cell *matCellDef="let element"> {{element.velocity }} %</td>
        </ng-container>
        <ng-container matColumnDef="storyCycleTime">
          <th mat-header-cell *matHeaderCellDef> FC-3 Story Cycle Time</th>
          <td mat-cell *matCellDef="let element"> {{element.storyCycleTime}} </td>
        </ng-container>
        <ng-container matColumnDef="sprintVariance">
          <th mat-header-cell *matHeaderCellDef> FC-6 Sprint Variance </th>
          <td mat-cell *matCellDef="let element"> {{element.sprintVariance}} %</td>
        </ng-container>
        <ng-container matColumnDef="storyVolatillity">
          <th mat-header-cell *matHeaderCellDef> FC-8 Story Volatillity</th>
          <td mat-cell *matCellDef="let element"> {{element.storyVolatillity}} %</td>
        </ng-container>
        <ng-container matColumnDef="sprintBurndown">
          <th mat-header-cell *matHeaderCellDef> FC-10 Sprint Burndown</th>
          <td mat-cell *matCellDef="let element"> {{element.sprintBurndown}} %</td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns_Cal"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns_Cal;"></tr>
      </table>
      <br />
      <div class="form-group row" *ngIf="dataSource_Cal.data.length != 0">
        <div class="col-md-3"></div>
        <div class="col-md-2">
          <button mat-raised-button color="primary" (click)="saveSprintCal()">Submit Data</button>
        </div>
        <div class="col-md-2">
          <button mat-raised-button color="primary">View Trends</button>
        </div>
        <div class="col-md-2">
          <button mat-raised-button color="primary" (click)="export_Excel()">Excel</button>
        </div>
      </div>
    </mat-tab>

    <mat-tab label="Release Level">
      &nbsp;&nbsp;&nbsp;&nbsp;
      <div class="form-group row" *ngIf="showReleaseLevel">
        <div class="col-md-4">
          <mat-card class="example-card">
            <mat-card-header>
              <div mat-card-avatar class="example-header-image"></div>
              <mat-card-title>Release Details</mat-card-title>
            </mat-card-header>
            <mat-card-content>
              <form [formGroup]="releaseTeamSquardForm">
                <div class="form-group row">
                  <label for="releaseTeamSquad" class="col-md-4 col-form-label">Team / Squad </label>
                  <div class="col-md-8">
                    <mat-form-field>
                      <input matInput placeholder="Team / Squad" id="releaseTeamSquad"
                        formControlName="releaseTeamSquad">
                    </mat-form-field>
                    <mat-error
                      *ngIf="releaseSubmitted && releaseTeamSquardForm.get('releaseTeamSquad').hasError('required')">
                      Team / Squad is required..!
                    </mat-error>
                  </div>
                </div>
                <div class="form-group row">
                  <label for="releaseNameNumber" class="col-md-4 col-form-label">Release Name/
                    Release Number</label>
                  <div class="col-md-8">
                    <mat-form-field>
                      <input matInput placeholder="Name/Number" id="releaseNameNumber"
                        formControlName="releaseNameNumber">
                    </mat-form-field>
                    <mat-error
                      *ngIf="releaseSubmitted && releaseTeamSquardForm.get('releaseNameNumber').hasError('required')">
                      Release Name/Number is required..!
                    </mat-error>
                  </div>
                </div>
                <div class="form-group row">
                  <label for="releaseMonth" class="col-md-4 col-form-label">Release Month </label>
                  <div class="col-md-8">
                      <mat-form-field>
                          <input matInput [matDatepicker]="releaseMonthPicker" 
                            placeholder="Release End Month" id="releaseMonth" formControlName="releaseMonth">
                          <mat-datepicker-toggle matSuffix [for]="releaseMonthPicker"></mat-datepicker-toggle>
                          <mat-datepicker #releaseMonthPicker></mat-datepicker>
                        </mat-form-field>
                        <mat-error *ngIf="releaseSubmitted && releaseTeamSquardForm.get('releaseMonth').hasError('required')">
                            Release Month is required..!
                        </mat-error>
                  </div>
                </div>
              </form>
            </mat-card-content>
          </mat-card>
        </div>

        <div class="col-md-8">
          <mat-card class="example-card">
            <mat-card-header>
              <div mat-card-avatar class="example-header-image"></div>
              <mat-card-title>Release Information</mat-card-title>
            </mat-card-header>
            <mat-card-content>
              <form [formGroup]="releaseForm">
                <div class="form-group row">
                  <label for="quality" class="col-md-2 col-form-label">Release - On Quality (Y/N)? </label>
                  <div class="col-md-4">
                    <mat-radio-group aria-label="Select an option" id="quality" formControlName="quality">
                      <mat-radio-button value="true">Yes</mat-radio-button>
                      <mat-radio-button value="false">No</mat-radio-button>
                    </mat-radio-group>
                    <mat-error *ngIf="releaseSubmitted && releaseForm.get('quality').hasError('required')">
                      Quality is required(true/false)..!
                    </mat-error>
                  </div>
                  <label for="incidentsRaised" class="col-md-2 col-form-label">Incidents raised in Production </label>
                  <div class="col-md-4">
                    <mat-form-field>
                      <input matInput (keypress)="numberOnly($event)" placeholder="Incidents Raised"
                        id="incidentsRaised" formControlName="incidentsRaised">
                    </mat-form-field>
                    <mat-error *ngIf="releaseSubmitted && releaseForm.get('incidentsRaised').hasError('required')">
                      Incidents Raised is required..!
                    </mat-error>
                  </div>
                </div>
                <div class="form-group row">
                  <label for="totalIncidents" class="col-md-2 col-form-label">Total Incidents (including Production
                    Incidents)</label>
                  <div class="col-md-4">
                    <mat-form-field>
                      <input matInput (keypress)="numberOnly($event)" placeholder="Total Incidents" id="totalIncidents"
                        formControlName="totalIncidents">
                    </mat-form-field>
                    <mat-error *ngIf="releaseSubmitted && releaseForm.get('totalIncidents').hasError('required')">
                      Total Incidents is required..!
                    </mat-error>
                  </div>
                  <label for="storyPointsCommited" class="col-md-2 col-form-label">No. of Story points committed in the
                    Release </label>
                  <div class="col-md-4">
                    <mat-form-field>
                      <input matInput (keypress)="numberOnly($event)" placeholder="Story Points Commited"
                        id="storyPointsCommited" formControlName="storyPointsCommited">
                    </mat-form-field>
                    <mat-error *ngIf="releaseSubmitted && releaseForm.get('storyPointsCommited').hasError('required')">
                      Story Points Commited is required..!
                    </mat-error>
                  </div>
                </div>
                <div class="form-group row">
                  <label for="storyPointDone" class="col-md-2 col-form-label">No. of Story points marked as "Done" in
                    the Release </label>
                  <div class="col-md-4">
                    <mat-form-field>
                      <input matInput (keypress)="numberOnly($event)" placeholder="Story Point Done" id="storyPointDone"
                        formControlName="storyPointDone">
                    </mat-form-field>
                    <mat-error *ngIf="releaseSubmitted && releaseForm.get('storyPointDone').hasError('required')">
                      Story Point Done is required..!
                    </mat-error>
                  </div>
                  <label for="featuresCommited" class="col-md-2 col-form-label"> No. of Features committed in the
                    Release</label>
                  <div class="col-md-4">
                    <mat-form-field>
                      <input matInput (keypress)="numberOnly($event)" placeholder="Features Commited"
                        id="featuresCommited" formControlName="featuresCommited">
                    </mat-form-field>
                    <mat-error *ngIf="releaseSubmitted && releaseForm.get('featuresCommited').hasError('required')">
                      Features Commited is required..!
                    </mat-error>
                  </div>
                </div>
                <div class="form-group row">
                  <label for="featuresCompleted" class="col-md-2 col-form-label">No. of Features completed in the
                    Release </label>
                  <div class="col-md-4">
                    <mat-form-field>
                      <input matInput placeholder="Features Completed" id="featuresCompleted"
                        formControlName="featuresCompleted">

                    </mat-form-field>
                    <mat-error *ngIf="releaseSubmitted && releaseForm.get('featuresCompleted').hasError('required')">
                      Features Completed is required..!
                    </mat-error>
                  </div>
                  <label for="featuresChanged" class="col-md-2 col-form-label">No. of Features changed in a Release
                  </label>
                  <div class="col-md-4">
                    <mat-form-field>
                      <input matInput placeholder="Features Changed" id="featuresChanged"
                        formControlName="featuresChanged">

                    </mat-form-field>
                    <mat-error *ngIf="releaseSubmitted && releaseForm.get('featuresChanged').hasError('required')">
                      Features Changed is required..!
                    </mat-error>
                  </div>

                </div>
                <div class="form-group row">
                  <label for="startDatePicker" class="col-md-2 col-form-label">Min Feature Start Date
                    (Inception Date)</label>
                  <div class="col-md-4">
                    <mat-form-field>
                      <input matInput placeholder="Start Date" [matDatepicker]="startDatePicker"
                        [max]="releaseForm.controls.endDatePicker.value" id="startDatePicker"
                        formControlName="startDatePicker">
                      <mat-datepicker-toggle matSuffix [for]="startDatePicker"></mat-datepicker-toggle>
                      <mat-datepicker #startDatePicker></mat-datepicker>
                    </mat-form-field>
                    <mat-error *ngIf="releaseSubmitted && releaseForm.get('startDatePicker').hasError('required')">
                      StartDate is required..!
                    </mat-error>
                  </div>
                  <label for="endDatePicker" class="col-md-2 col-form-label">Max Feature End Date
                    (Date Marked as "Done") </label>
                  <div class="col-md-4">
                    <mat-form-field>
                      <input matInput [matDatepicker]="endDatePicker" [min]="releaseForm.controls.startDatePicker.value"
                        placeholder="Choose a End Date" id="endDatePicker" formControlName="endDatePicker">
                      <mat-datepicker-toggle matSuffix [for]="endDatePicker"></mat-datepicker-toggle>
                      <mat-datepicker #endDatePicker></mat-datepicker>
                    </mat-form-field>
                    <mat-error *ngIf="releaseSubmitted && releaseForm.get('endDatePicker').hasError('required')">
                      Sprint Start End is required..!
                    </mat-error>
                  </div>
                </div>
                <div class="form-group row">
                  <label for="releaseComments" class="col-md-2 col-form-label">Comments </label>
                  <div class="col-md-10">
                    <mat-form-field>
                      <textarea matInput placeholder="Leave a comment" id="releaseComments"
                        formControlName="releaseComments"></textarea>
                    </mat-form-field>
                  </div>
                </div>
              </form>

              <div class="form-group row">
                <div class="col-md-6"></div>
                <div class="col-md-6">
                  <button mat-raised-button color="primary" *ngIf="!updateReleaseBtn"
                    [disabled]="releaseSubmitted && (releasePlatformForm.invalid || releaseForm.invalid || releaseTeamSquardForm.invalid)"
                    (click)="releasaeAddDetails();">Add Details</button>
                  <button mat-raised-button color="accent" *ngIf="updateReleaseBtn"
                    [disabled]="releaseSubmitted && (releaseForm.invalid || releaseTeamSquardForm.invalid)"
                    (click)="updateReleaseDetails();">
                    Update Details
                  </button>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  <button mat-raised-button *ngIf="updateReleaseBtn" (click)="cancelReleaseEdit();">Cancel</button>
                </div>
              </div>
            </mat-card-content>
          </mat-card>
        </div>
      </div>
      <table mat-table [dataSource]="releaseDataSource" class="mat-elevation-z8"
        *ngIf="releaseDataSource.data.length != 0 && !updateReleaseBtn">
        <ng-container matColumnDef="index">
          <th mat-header-cell *matHeaderCellDef> Sl.No </th>
          <td mat-cell *matCellDef="let element; let i = index;"> {{i +1 }} </td>
        </ng-container>
        <ng-container matColumnDef="releaseTeamSquad">
          <th mat-header-cell *matHeaderCellDef> Team Squad </th>
          <td mat-cell *matCellDef="let element"> {{element.releaseTeamSquad}} </td>
        </ng-container>
        <ng-container matColumnDef="releaseNameNumber">
          <th mat-header-cell *matHeaderCellDef> Release Name/
            Release Number </th>
          <td mat-cell *matCellDef="let element"> {{element.releaseNameNumber}} </td>
        </ng-container>
        <ng-container matColumnDef="releaseMonth">
          <th mat-header-cell *matHeaderCellDef> Release Month </th>
          <td mat-cell *matCellDef="let element"> {{element.releaseMonth  | date : 'dd/MM/yyyy'}} </td>
        </ng-container>
        <ng-container matColumnDef="quality">
          <th mat-header-cell *matHeaderCellDef> Release - On Quality (Y/N)? </th>
          <td mat-cell *matCellDef="let element"> {{element.quality}} </td>
        </ng-container>
        <ng-container matColumnDef="incidentsRaised">
          <th mat-header-cell *matHeaderCellDef> Incidents raised in Production </th>
          <td mat-cell *matCellDef="let element"> {{element.incidentsRaised}} </td>
        </ng-container>
        <ng-container matColumnDef="totalIncidents">
          <th mat-header-cell *matHeaderCellDef> Total Incidents (including Production Incidents) </th>
          <td mat-cell *matCellDef="let element"> {{element.totalIncidents}} </td>
        </ng-container>
        <ng-container matColumnDef="storyPointsCommited">
          <th mat-header-cell *matHeaderCellDef> No. of Story points committed in the Release </th>
          <td mat-cell *matCellDef="let element"> {{element.storyPointsCommited}} </td>
        </ng-container>
        <ng-container matColumnDef="storyPointDone">
          <th mat-header-cell *matHeaderCellDef> No. of Story points marked as "Done" in the Release </th>
          <td mat-cell *matCellDef="let element"> {{element.storyPointDone}} </td>
        </ng-container>
        <ng-container matColumnDef="featuresCommited">
          <th mat-header-cell *matHeaderCellDef> No. of Features committed in the Release </th>
          <td mat-cell *matCellDef="let element"> {{element.featuresCommited}} </td>
        </ng-container>
        <ng-container matColumnDef="featuresCompleted">
          <th mat-header-cell *matHeaderCellDef> No. of Features completed in the Release </th>
          <td mat-cell *matCellDef="let element"> {{element.featuresCompleted}} </td>
        </ng-container>
        <ng-container matColumnDef="featuresChanged">
          <th mat-header-cell *matHeaderCellDef> Features changed in a Release</th>
          <td mat-cell *matCellDef="let element"> {{element.featuresChanged}} </td>
        </ng-container>
        <ng-container matColumnDef="startDatePicker">
          <th mat-header-cell *matHeaderCellDef> Min Feature Start Date
            (Inception Date) </th>
          <td mat-cell *matCellDef="let element"> {{element.startDatePicker | date : 'dd/MM/yyyy'}} </td>
        </ng-container>
        <ng-container matColumnDef="endDatePicker">
          <th mat-header-cell *matHeaderCellDef> Max Feature End Date
            (Date Marked as "Done")</th>
          <td mat-cell *matCellDef="let element"> {{element.endDatePicker | date : 'dd/MM/yyyy'}} </td>
        </ng-container>
        <ng-container matColumnDef="releaseComments">
          <th mat-header-cell *matHeaderCellDef> Comments </th>
          <td mat-cell *matCellDef="let element"> {{element.releaseComments}} </td>
        </ng-container>
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef> Action </th>
          <td mat-cell *matCellDef="let row;let i = index;">
            &nbsp;&nbsp;
            <mat-icon color="accent" inline="true" (click)="startReleaseEdit(i,row)">edit</mat-icon>
            &nbsp;&nbsp;
            <mat-icon color="warn" inline="true" (click)="deleteReleaseRow(i)">delete</mat-icon>
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="releaseDisplayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: releaseDisplayedColumns;let i = index;" style="cursor: pointer"
          (dblclick)="startReleaseEdit(i,row)"></tr>
      </table>
      <br />
      <div class="form-group row" *ngIf="releaseDataSource.data.length != 0">
        <div class="col-md-5"></div>
        <div class="col-md-6" *ngIf="!updateReleaseBtn">
          <button mat-raised-button color="primary" (click)="calculateReleaseDetails()">Calculate</button>
        </div>
      </div>

      <table mat-table [dataSource]="releaseDataSource_Cal" class="mat-elevation-z8"
        *ngIf="releaseDataSource_Cal.data.length != 0">
        <ng-container matColumnDef="index">
          <th mat-header-cell *matHeaderCellDef> Sl.No </th>
          <td mat-cell *matCellDef="let element; let i = index;"> {{i +1 }} </td>
        </ng-container>
        <ng-container matColumnDef="cycleTime">
          <th mat-header-cell *matHeaderCellDef> FC-2 Feature Cycle Time </th>
          <td mat-cell *matCellDef="let element"> {{element.cycleTime }} </td>
        </ng-container>
        <ng-container matColumnDef="qualityCompletion">
          <th mat-header-cell *matHeaderCellDef> FC-4 Qulatity Completion</th>
          <td mat-cell *matCellDef="let element"> NA </td>
        </ng-container>
        <ng-container matColumnDef="defectLeakage">
          <th mat-header-cell *matHeaderCellDef> FC-5 SIT Defect Leakage </th>
          <td mat-cell *matCellDef="let element"> {{element.defectLeakage}} %</td>
        </ng-container>
        <ng-container matColumnDef="releaseVariance">
          <th mat-header-cell *matHeaderCellDef> FC-7 Release Variance</th>
          <td mat-cell *matCellDef="let element"> {{element.releaseVariance}} %</td>
        </ng-container>
        <ng-container matColumnDef="featureVolatility">
          <th mat-header-cell *matHeaderCellDef> FC-9 Feature Volatility</th>
          <td mat-cell *matCellDef="let element"> {{element.featureVolatility}} %</td>
        </ng-container>
        <ng-container matColumnDef="releaseBurndown">
          <th mat-header-cell *matHeaderCellDef> FC-11 Release Burndown</th>
          <td mat-cell *matCellDef="let element"> {{element.releaseBurndown}} %</td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="releaseDisplayedColumns_Cal"></tr>
        <tr mat-row *matRowDef="let row; columns: releaseDisplayedColumns_Cal;"></tr>
      </table>

      <br />
      <div class="form-group row" *ngIf="releaseDataSource_Cal.data.length != 0">
        <div class="col-md-3"></div>
        <div class="col-md-2">
          <button mat-raised-button color="primary" (click)="saveReleaseCal()">Submit Data</button>
        </div>
        <div class="col-md-2">
          <button mat-raised-button color="primary">View Trends</button>
        </div>
        <div class="col-md-2">
          <button mat-raised-button color="primary" (click)="export_Excel_Release()">Excel</button>
        </div>
      </div>

    </mat-tab>


    <mat-tab label="Non Delivery KPI">
      &nbsp;&nbsp;&nbsp;&nbsp;
      <div class="form-group row" *ngIf="showNonDeliveryKPILevel">
        <div class="col-md-12">
          <mat-card class="example-card">
            <mat-card-header>
              <div mat-card-avatar class="example-header-image"></div>
              <mat-card-title>Non Delivery KPI Details</mat-card-title>
            </mat-card-header>
            <mat-card-content>
              <form [formGroup]="nonDeliveryKPITeamSquardForm">
                <div class="form-group row">
                  <!-- <label for="resourcesOnboarded" class="col-md-2 col-form-label">Resources Onboarded as committed in
                    the SO </label>
                  <div class="col-md-4">
                    <mat-form-field>
                      <input matInput (keypress)="numberOnly($event)" (change)="valueChange($event,0)"
                        placeholder="Resources Onboarded" id="resourcesOnboarded" formControlName="resourcesOnboarded">
                    </mat-form-field>
                    <mat-error
                      *ngIf="nonDeliveryKPISubmitted && nonDeliveryKPITeamSquardForm.get('resourcesOnboarded').hasError('required')">
                      Resources Onboarded is required..!
                    </mat-error>
                  </div> -->
                  <label for="nonDeliveryKPIMonth" class="col-md-2 col-form-label">Month </label>
                  <div class="col-md-4">
                    <mat-form-field>
                      <mat-select formControlName="nonDeliveryKPIMonth" id="nonDeliveryKPIMonth" placeholder="Month">
                        <mat-option *ngFor="let mon of month" [value]="mon.monthName" [disabled]="mon.disabled">
                          {{mon.monthName}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                    <mat-error
                      *ngIf="nonDeliveryKPISubmitted && nonDeliveryKPITeamSquardForm.get('nonDeliveryKPIMonth').hasError('required')">
                      Month is required..!
                    </mat-error>
                  </div>
                  <label for="attrition" class="col-md-2 col-form-label">Attrition during the month </label>
                  <div class="col-md-4">
                    <mat-form-field>
                      <input matInput (keypress)="numberOnly($event)" 
                        placeholder="Attrition" id="attrition" formControlName="attrition">
                    </mat-form-field>
                    <mat-error
                      *ngIf="nonDeliveryKPISubmitted && nonDeliveryKPITeamSquardForm.get('attrition').hasError('required')">
                      Attrition is required..!
                    </mat-error>
                  </div>
                </div>
                <!-- <div class="form-group row" *ngIf="!kpiIsDisable">
                  <label for="attrition" class="col-md-2 col-form-label">Attrition during the month </label>
                  <div class="col-md-4">
                    <mat-form-field>
                      <input matInput (keypress)="numberOnly($event)" (change)="valueChange($event,1)"
                        placeholder="Attrition" id="attrition" formControlName="attrition">
                    </mat-form-field>
                    <mat-error
                      *ngIf="nonDeliveryKPISubmitted && nonDeliveryKPITeamSquardForm.get('attrition').hasError('required')">
                      Attrition is required..!
                    </mat-error>
                  </div>
                  <label for="retention" class="col-md-2 col-form-label">Retention </label>
                  <div class="col-md-4">
                    <mat-form-field>
                      <input matInput (keypress)="numberOnly($event)" (change)="valueChange($event,2)"
                        placeholder="Retention" id="retention" formControlName="retention">
                    </mat-form-field>
                    <mat-error
                      *ngIf="nonDeliveryKPISubmitted && nonDeliveryKPITeamSquardForm.get('retention').hasError('required')">
                      Retention is required..!
                    </mat-error>
                  </div>
                </div> -->
                <!-- <div class="form-group row" *ngIf="!kpiIsDisable">
                  <label for="percentage" class="col-md-2 col-form-label">Percentage </label>
                  <div class="col-md-4">
                    <mat-form-field>
                      <input matInput (keypress)="numberOnly($event)" placeholder="Percentage" id="percentage"
                        formControlName="percentage" disabled="!kpiIsDisable">
                    </mat-form-field>
                    <mat-error
                      *ngIf="nonDeliveryKPISubmitted && nonDeliveryKPITeamSquardForm.get('percentage').hasError('required')">
                      Percentage is required..!
                    </mat-error>
                  </div>
                  <div class="col-md-6"></div>
                </div> -->
              </form>
              <div class="form-group row">
                <div class="col-md-5"></div>
                <div class="col-md-7">
                  <button mat-raised-button color="primary" *ngIf="!updateNonDeliveryKPIBtn"
                    [disabled]="nonDeliveryKPISubmitted && (nonDeliveryKPITeamSquardForm.invalid || nonDeliveryKPIForm.invalid)"
                    (click)="addNonDeliveryKPIDetails();">
                    Add Details
                  </button>
                  <button mat-raised-button color="accent" *ngIf="updateNonDeliveryKPIBtn"
                    [disabled]="nonDeliveryKPISubmitted && nonDeliveryKPITeamSquardForm.invalid"
                    (click)="updateNonDeliveryKPIDetails();">
                    Update Details
                  </button>
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  <button mat-raised-button *ngIf="updateNonDeliveryKPIBtn"
                    (click)="cancelNonDeliveryKPIEdit();">Cancel</button>
                </div>
              </div>
            </mat-card-content>
          </mat-card>
        </div>
      </div>
      <table mat-table [dataSource]="nonDeliveryKPIDataSource" class="mat-elevation-z8"
        *ngIf="nonDeliveryKPIDataSource.data.length != 0 && !updateNonDeliveryKPIBtn">
        <ng-container matColumnDef="index">
          <th mat-header-cell *matHeaderCellDef> Sl.No </th>
          <td mat-cell *matCellDef="let element; let i = index;"> {{i +1 }} </td>
        </ng-container>
        <!-- <ng-container matColumnDef="resourcesOnboarded">
          <th mat-header-cell *matHeaderCellDef> Resources Onboarded </th>
          <td mat-cell *matCellDef="let element"> {{element.resourcesOnboarded}} </td>
        </ng-container> -->
        <ng-container matColumnDef="nonDeliveryKPIMonth">
          <th mat-header-cell *matHeaderCellDef> Month </th>
          <td mat-cell *matCellDef="let element"> {{element.nonDeliveryKPIMonth}} </td>
        </ng-container>
        <ng-container matColumnDef="attrition">
          <th mat-header-cell *matHeaderCellDef> Attrition </th>
          <td mat-cell *matCellDef="let element"> {{element.attrition}} </td>
        </ng-container>
        <!-- <ng-container matColumnDef="retention">
          <th mat-header-cell *matHeaderCellDef> Retention </th>
          <td mat-cell *matCellDef="let element"> {{element.retention}} </td>
        </ng-container>
        <ng-container matColumnDef="percentage">
          <th mat-header-cell *matHeaderCellDef> Percentage </th>
          <td mat-cell *matCellDef="let element"> {{element.percentage}} %</td>
        </ng-container> -->
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef> Action </th>
          <td mat-cell *matCellDef="let row;let i = index;">
            &nbsp;&nbsp;
            <mat-icon color="accent" inline="true" (click)="startEditNonDeliveryKPI(i,row)">edit</mat-icon>
            &nbsp;&nbsp;
            <mat-icon color="warn" inline="true" (click)="deleteRowNonDeliveryKPI(i)">delete</mat-icon>
          </td>
        </ng-container>
        <ng-container matColumnDef="disclaimer">
            <td mat-footer-cell *matFooterCellDef colspan="4">
             <b style="color: red"> Percentage  : {{nonDeliveryKPIPercentage }} %</b>
            </td>
          </ng-container>
        <tr mat-header-row *matHeaderRowDef="nonDeliveryKPIDisplayedColumns"></tr>
        <tr mat-row style="cursor: pointer" *matRowDef="let row; columns: nonDeliveryKPIDisplayedColumns;let i = index;"
          (dblclick)="startEditNonDeliveryKPI(i,row)"></tr>
          <tr mat-footer-row *matFooterRowDef="['disclaimer']" class="example-second-footer-row"></tr>
      </table>
      <br />
      <div class="form-group row" *ngIf="nonDeliveryKPIDataSource.data.length != 0 && !updateNonDeliveryKPIBtn">
        <div class="col-md-3"></div>
        <div class="col-md-2">
          <button mat-raised-button color="primary" (click)="saveNonDeliveryKPICal()">Submit Data</button>
        </div>
        <div class="col-md-2">
          <button mat-raised-button color="primary">View Trends</button>
        </div>
        <div class="col-md-2">
          <button mat-raised-button color="primary" (click)="export_Excel_NonDeliveryKPI()">Excel</button>
        </div>
      </div>
    </mat-tab>

  </mat-tab-group>

</div>